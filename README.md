```ascii
 _______  _______  _______ _________ _______  _______  _       _________ _______ 
(  ____ )(  ___  )(  ____ )\__   __/(  ____ \(  ___  )( \      \__   __/(  ___  )
| (    )|| (   ) || (    )|   ) (   | (    \/| (   ) || (         ) (   | (   ) |
| (____)|| |   | || (____)|   | |   | (__    | |   | || |         | |   | |   | |
|  _____)| |   | ||     __)   | |   |  __)   | |   | || |         | |   | |   | |
| (      | |   | || (\ (      | |   | (      | |   | || |         | |   | |   | |
| )      | (___) || ) \ \__   | |   | )      | (___) || (____/\___) (___| (___) |
|/       (_______)|/   \__/   )_(   |/       (_______)(_______/\_______/(_______)
                                                                                 

				 ______   _______ 
				(  __  \ (  ____ \
				| (  \  )| (    \/
				| |   ) || (__    
				| |   | ||  __)   
				| |   ) || (      
				| (__/  )| (____/\
				(______/ (_______/
                  

 
 _______  _______  _______  _______  _______ _________ _______  _        _______  _______  _______ 
(  ____ \(  ___  )(       )(  ____ )(  ____ \\__   __/(  ____ \( (    /|(  ____ \(  ____ \(  ____ \
| (    \/| (   ) || () () || (    )|| (    \/   ) (   | (    \/|  \  ( || (    \/| (    \/| (    \/
| |      | |   | || || || || (____)|| (__       | |   | (__    |   \ | || |      | (__    | (_____ 
| |      | |   | || |(_)| ||  _____)|  __)      | |   |  __)   | (\ \) || |      |  __)   (_____  )
| |      | |   | || |   | || (      | (         | |   | (      | | \   || |      | (            ) |
| (____/\| (___) || )   ( || )      | (____/\   | |   | (____/\| )  \  || (____/\| (____/\/\____) |
(_______/(_______)|/     \||/       (_______/   )_(   (_______/|/    )_)(_______/(_______/\_______)                                                                                              
					
```
Ok this is a new test!


1. [Introduction](#introduction)
2. [Projets réalisés en cours de formation.](#projets-réalisés-en-cours-de-formation)
	1. [Routage sur vlan](#routage-sur-vlan)
	2. [Installation borne Wi-Fi](#borne-wifi)
	3. [GLPI](#glpi)
	4. [Serveur d'authentification](#serveur-dauthentification)
	5. [Installation service d'annuaire, LDAP](#annuaire-ldap)
	6. [Partage de fichiers](#partage-de-fichiers-docker)
	7. [Active Directory](#active-directory)
3. [Projets réalisés en milieu professionnel](#projets-réalisés-en-milieu-professionnel)
	1. [Proxmox](#hyperviseur-proxmox)
	2. [LogicalVolumeManagement](#gestion-de-partitions-lvm)
	3. [Nextcloud + pile LAMP](#nextcloud-et-lamp)
	4. [Rocky Linux](#rockylinux-et-cockpit)
	5. [Ansible](#ansible)
	6. [Lab Réseau](#lab-réseau)
	7. [Script shell TCP](#script-shell-tcp)
4. [VIM](#vim)
5. [Outils et stratégies de veille informationnelle.](#veille-informationnelle)


*** 
                                                                                                   


# Introduction

### C'est avec plaisir que je vous présente mon portefeuille de compétences, qui met en valeur les projets sur lesquels j'ai travaillé en classe et au cours de mes stages. Dans ce portfolio, vous trouverez une collection de certains de mes projets, chacun démontrant ma capacité à développer et déployer des solutions informatiques qui répondent aux besoins de prestataires informatiques, par exemple. Ces différents projets mobilisent les compétences du bloc-1, et pour claques projets, les compétences mobilisés sont précisés. 

***


# Projets réalisés en cours de formation

## Routage sur vlan
### Date de realisation: (30/06/2022) 
### ![Routage sur vlan](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/routage_allag_mehdi%2Bvpn-1.pdf)
### Competence mises en oeuvre: 

1. Mettre en place et vérifier les niveaux d'habilitation associes à un service.
2. Vérifier les conditions de la continuité d'un service informatique.
3. Analyser les objectifs et les modalités d'organisation d'un projet.
4. Réaliser les tests d'intégration et d'acceptation d'un service

*** 

## Borne wifi
### (22/03/2022)
### ![Borne-wifi](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/ALLAG%20Mehdi%20wifi%20.pdf)
### Compétences mises en œuvre :

***

## GLPI
### (12/05/2022)
### ![GLPI](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/GLPI-1.pdf)
### Compétences mises en œuvre : 

1. _Collecter, suivre et orienter des demandes_
2. _Traiter les demandes concernant les services réseaux et systèmes, applicatifs_
3. _Recensement et identification des ressources numériques_

***

## Serveur d'authentification
### (05/01/2022)
### ![Serveur d'authentification](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/serveur_authentification.pdf)
### Compétences mises en œuvre : 

1. _Exploitation des référentiels, normes et standards adoptés par le prestataire informatique_
2. _Mise en place et vérification des niveaux d’habilitation associés à un service_
3. _Gestion des sauvegardes. Vérification du respect des règles d’utilisation des ressources numériques_

***

## Annuaire LDAP
### (22/02/2022)
### ![LDAP](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/Installation%20du%20service%20d%E2%80%99annuaire%20LDAP%20.pdf) 
### Compétences mises en œuvre :

1. Exploitation des référentiels, normes et standards adoptés par le prestataire informatique
2. Mise en place et vérification des niveaux d’habilitation associés à un service
3. Gestion des sauvegardes
4. Vérification du respect des règles d’utilisation des ressources numériques
5. Déploiement d’un service

*** 
## Partage de fichiers (Docker)
### (07/11/2022)
### ![Partage de fichiers](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/filebrowser_allag_mehdi-2.pdf) 
### Compétences mises en œuvre : 

1. Exploitation des référentiels, normes et standards adoptés par le prestataire informatique
2. Vérification du respect des règles d’utilisation des ressources numériques
3. Mettre en place et vérifier les niveaux d'habilitation associés à un service

***

## Active Directory
### (24/11/2022)
### ![ActiveDirectory](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/activedirectory_mehdi-3.pdf) (24/11/2022)
### Compétences mises en œuvre :

1. Analyser les objectifs et les modalités d'organisation d'un projet. 
2. Recenser et identifier les ressources numériques.
3. Déployer un service.

***

# Projets réalisés en milieu professionnel

## Hyperviseur Proxmox
### Compétences: 

1. Vérifier les conditions de la continuité d'un service informatique. 
2. Gérer des sauvegardes.

Proxmox est un logiciel libre de visualisation et de gestion de parc informatique. J'ai installé Proxmox sur un serveur sur lequel j'effectuerais mes différentes tâches et projet tout au long de ce stage.

![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-10%2011-31-41.png)

***

## Gestion de partitions LVM

#### Compétences mise en œuvre : 
1. Analyser les objectifs et les modalités d'organisation et mesurer leur visibilité.
2. Recenser et identifier les ressources numériques.

La gestion des volumes logiques (LVM) est un système de gestion des disques utilisé pour gérer et organiser l'espace disque sur un système Linux. Il permet de créer des partitions virtuelles qui peuvent être redimensionnées et déplacées de manière dynamique, sans avoir à arrêter le système ou à démonter un système de fichiers.
Les trois parties centrales de LVM :

1. Volumes physiques (PV) : La première étape de l'utilisation de LVM consiste à créer un ou plusieurs volumes physiques (PV) sur le disque. Il s'agit de partitions de disque réelles qui seront utilisées pour stocker des données.
2. Groupe de volume (GV) : Sont des collections de volumes physiques depuis lesquelles nos volumes logiques seront créés.
3. Volumes logiques (LV) : Un volume logique est un périphérique de stockage virtuel qu'un système de fichiers peut utiliser.

Tache : Il etait question d'implémenter un RAID1 sous LVM sur un serveur avec disque linéaire configuré avec RAID. Il sera question de créer un nouveau volume physique que nous convertirons par la suite en volume RAID et de re-attacher ce volume au volume déjà existant.

## Docker et DockerFile

***

## Nextcloud et LAMP

### Nextcloud est un service de partage de fichiers libre et open-source qui nous donne contrôle sur nos fichiers, respect de nos documents privés et une forme avance de contrôle, car autogérés. Il m'a été demandé d'installer ce service pour me faire découvrir les différents éléments qui le constituent, de plus, Nextcloud était l'un des logiciels au centre du fonctionnement de l'équipe que j'ai intégrée. Pour installer le service Nextcloud, il nous sera nécessaire d'installer une pile de technologies complémentaires ; (LAMP/STACK Linux, Apache, MariaDB, PHP). Linux sera notre système d'exploitation, Apache notre serveur web, MariaDB le serveur de base de donnes, PHP le langage cote serveur gérant les pages dynamiques.  

### Compétences mises en œuvre :

1. Déployer un service. 
2. Gérer des sauvegardes. 
3. Recenser et identifier les ressources numériques.

***

## RockyLinux et cockpit

***

Cockpit est un logiciel de gestion de serveur avec interface web. Pour les utilisateurs, il leur permet d'avoir un accès à un tableau de bord sur la machine, et de ne pas avoir à utiliser l'interface de commandes, mais d'avoir néanmoins une interface plus lisible et légère que d'installer un environnement de bureau sur le serveur. 
Le paquet doit être localement installé sur le serveur/client avant de pouvoir accéder à l'interface web (machine-IP :9090). J'installerai également un module de stockage complémentaire, qui n'est pas là par défaut, via un rôle Ansible.

![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-10%2011-47-52.png)

***

# Ansible: 

### Competences:

1. Competence uno
2. competence dos

## Intro

### Ansible est un outil d'automatisation open-source qui permet aux utilisateurs d'automatiser des tâches informatiques telles que la gestion, la configuration, le déploiement d'applications, etc. Ansible fonctionne sans agent, ce qui signifie qu'il ne nécessite pas l'installation de logiciels sur les nœuds gérés, ce qui facilite son utilisation et le déploiement de configurations vers les hôtes. Les rôles et "playbooks" s'écrivent en langage YAML.

## L'inventaire
#### Les machines hôtes sur lesquelles serrons déployées les playbooks sont stockés sous le fichier /ansible/hosts. Elles peuvent être regroupées sous des groupes qui seront ensuite faits référence plus tard dans nos playbooks.

![](file:///home/mehdi.allag/Pictures/Screenshot%20from%202023-01-17%2017-07-53.png)


### Playbooks
#### Un playbook est un plan d'automatisation de taches. Les Playbooks Ansible sont exécutés sur un groupe ou ensemble de groupe d'hôtes, qui constituent ensemble notre inventaire Ansible. Un playbook se divise en plusieurs parties.

Les playbooks sont constitués de modules qui exécutent automatiquement des tâches sur notre groupe d'hôtes.

Ci-dessous un exemple de Playbook constitue d'un seul "play" et de deux taches.

![image](https://user-images.githubusercontent.com/78588391/212954775-68950203-497d-437b-9d17-4587a7b812ba.png)

#### C'est apres la directive task que les actions pour notre tache vont etre definis.

1. name : Description simple de la tache
2. ansible.builtin.package: Module Ansible qui va automatiquement utiliser le module spécifique au gestionnaire de paquet de l'hote (ansible.builtin.yum, ansible.builtin.aot etc). Pratique, car nous évite donc de définir le gestionnaire de paquets de chacune des distributions.
3. name : nom du paquet à installer
4. state :  paramètre qui définit s'il faut installer (présent) ou supprimer le paquet (absent)
5. Pour la seconde tache ---> script : indique que c'est un script qui va s'exécuter.  
(le script en question) 


Ce play contient également une seconde tache qui exécute un script Bach sur l'hôte. Nous utilisons le module script qui prend le nom du script et même, des paramètres si besoin.

![image](https://user-images.githubusercontent.com/78588391/212956562-8c69600d-78d2-41a7-9aaf-b818a09d6010.png)

## Un peu plus sur Ansible: Les roles

Les rôles fournissent un cadre et une structure bien définis pour définir nos tâches, variables, modèles et autres fichiers. Ainsi, nous pouvons les référencer et les appeler dans nos playbooks avec seulement quelques lignes de code, tandis que nous pouvons réutiliser les mêmes rôles sur de nombreux projets sans avoir à dupliquer notre code.

Démonstration du fonctionnement des rôles en installent Nginx webserver et en remplacent la page par défaut de Nginx sous Debian par une page modifiée.
> Structure de notre role:
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2009-40-19.png)

1. Default va contenir nos variables.
2. Handlers: Sont des taches spéciales qui ce seront actives que via la directive "notify".
3. Tasks: Ensemble de nos taches qui se déploieront sur les machines hosts.
4. Templates : Permet de créer de nouveaux fichiers au format jinja2.

> Contenue du fichier tasks: 
  ![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2009-49-01.png)
  
  "Replace default page" va modifier la page HTML par default en prenant pour source index.html.j2, la page personnalise.
 
 > Les differentes variables qui peuvent etres appelles au seins de notre role:.
 
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2010-07-08.png)

Pour appeller l'une de ces variables, utiliser la syntax: "{{ **nom_de_variable** }}", qui seront souvent appeller dans tasks.

Notre page par default sera modifier de cette maniere: 

![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2010-06-51.png)

**__(cliquer pour voir le deploiement du roles)__**
[![asciicast](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2010-58-16.png)](https://asciinema.org/a/SgPUVITOapHD1PwHm0kFlAqMP)
Les options -DC: 
1. **D** Pour montrer la difference dans les fichiers de configuration et lors de l'execution des taches.
2. **C** Pour lancer le playbook en mode check. Cela ne va que simuller les changements, telechargements et mises en place des paquets par exemple etc. Option tres utile pour faire des tests et s'assurer que tout fonctionne bien. 

Il y a une "erreur" à la fin, car le playbook essaye de simuler le redémarrage d'un service, nginx… Ce n'est pas possible, soit le service redémarré, soit-il ne redémarre pas :)

(**__cliquer pour voir le deploiement du roles)__**
[![asciicast](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-06%2011-10-32.png)](https://asciinema.org/a/3sdVrff6tMoYslks06SHuqmO5)

### Rôles et variables Ansible

![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-10%2014-59-41.png)
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-10%2015-00-01.png)
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-10%2014-59-05.png)


# Lab réseau

#### Compétences mise en œuvre : 

1. Exploiter des référentiels, normes, et standards adoptés par le prestataire informatique. 
2. Évaluer les indicateurs de suivie d'un projet et analyser les écarts.

Nous trouverons un client installé sous ![RockyLinux](https://rockylinux.org/), et un serveur hébergent différents services web sous Debian. Les deux se trouvant sur des réseaux différents. En intermédiaire, un pare-feu logiciel pfSense permettra le routage et le filtrage des connexions entre les deux réseaux.
Ci-dessous un schéma du lab en question à mettre en place :

![lien du lab](https://github.com/JuiceMcgoose/assets/blob/main/lab_reseau_mehdi.drawio.png) 

### Mise en place des différentes machines sous le nœud Proxmox:
Il sera tout d'abord question de configurer nos différentes machines pour qu'elles puissent communiquer entre elles.
> Notre noeud proxmox se trouve sous le reseau **172.30.112.0/24** sa gw en **172.30.112.0.254**
Le client reçoit automatiquement une IP(172.30.112.191) dans ce réseau via DHCP.

Le pfSense devra avoir deux interfaces, une dans chaque réseau. L'IP par défaut de l'interface pfSense qui nous permet d'accéder à l'interface web est 192.168.1.1, or, notre serveur dans le réseau 10.8.0.0/24, il faudra également changer cela.

Configuration finales des interfaces pfsense.
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-01-31%2011-43-40.png)

Il faudra mettre en place une nouvelle route sur chacune des machines pour permettre la communication vers les différentes interfaces de notre pare-feu.
Pour notre réseau LAN, celui-ci ne dispose que d'une seule route possible. Pour notre réseau WAN en revanche, deux chemins de transports sont disponibles, l'un en direction du LAN, l'autre en direction du Proxmox et du réseau externe. 

> Routage serveur
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-01-31%2014-15-19.png)

> Routage client
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-01-31%2014-14-22.png)

> Passage des paquets
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-01-31%2017-43-57.png)

### Mise en place des règles de pare-feux

Dans notre scenario, notre client doit contacter le serveur pour accéder à certains services. Objectif : uniquement autoriser la connexion à ces services, et depuis ce client uniquement. Nous mettrons en place certaines règles de pare-feu ayant ces effets. 

Les règles à mettre en place : 

> 1. Apache via 80/443
> 2. MariaDB via le port 3306
> 3. SSH via le port 22 
> 4. Bloquer toute autre connections 


![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-09%2016-59-13.png)

## Fail2ban

Fail2ban agit à une couche différente de la couche réseau de niveau 3 d'un pare-feu. Celui-ci bloque les paquets du protocole TCP. Mais le port 22 est encore ouvert et des connexions peuvent toujours avoir lieux. C'est là que rentre en jeu le logiciel Fail2ban en surveillant les entrées des logs de no services. Fail2ban offre de nombreuses options pour sécuriser notre serveur, pour limiter les attaques par brutes-force ou DDOS.

Les options a prendre en compte quand nous configurerons Fail2ban pour le service ssh:
1. bantime 10m (Définie la durée du bannissement)
2. findtime 2m (Fourchette de temps pendant lequel les tentatives de connections amènent à un bannissement)
3. maxretry 3 (nombre de tentatives maximum)
4. ssh = yes ( S'applique sur ssh )


## Firewalld

***

# Script shell TCP: 
### Vérifie les ports TCP en écoute sur une machine distante et qui applique une série de règles IP tables laissant les connexions ouvertes sur ces ports, depuis une liste de machine autorisés.

### Competences: 

1. Réaliser les tests d’intégration et d’acceptation d’un service. 
2. Planifier les activités. Déployer un service. 

1. Écrire des règles IP tables 
2. Écrire un script shell simple et efficace
3. Faire Playbooks Ansible qui déploie le script sur le groupe de machines
4. Écrire et mettre en place un cron.

IP Tables est un logiciel libre de pare-feux inclut dans le Kernel, permettant de mettre en place des règles de trafic entrant et sortant.


![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-09%2017-19-03.png)

1. __machine_ip__ est un tableau contenant les machines autorisees.
2. __cible__: Machine sur laquelles les access seront restraints via IPtables.
3. __var__: Va contenire le resultat de notre script **awk**.


  **var=$(ss -tl4 | awk '/^LISTEN/ { split($4, a, ":"); print a[2];}')**  
  (AWK est un language utilise pour la manipulation, modification et triage de fichier.)
  
La commande iptables -L -v -n permet de voir quelles règles sont définies pour la table filter qui est la table par défaut lorsque non spécifiée. 
![](https://github.com/JuiceMcgoose/assets/blob/main/Screenshot%20from%202023-02-09%2017-43-01.png)

***

## Mettre en place son environement d'apprantisage personnel:
### ArchLInux + gestionaire de fenetres DWM/DMENU

### J'autoheberge plusieurs services axes vers une philosophie de logiciel libre et open-source, en ayant pour objectif d'avoir plus de contrôle sur mes donnes + environnement de bureau personnalise avec gestionnaire de fenêtre et pile de logiciels libre et open-sources.(Zathura, Neomutt, Pacman, ST, etc).
### Mise en place d'un server mail (90% fonctionnelle )
![mx record](https://github.com/JuiceMcgoose/assets/blob/main/mx_record.png)
### Les enregistrements MX sont utilisés pour acheminer les mails électronique associé à un nom de domaine, vers le serveur de messagerie approprié, par exemple, mail.powerful.software dans mon cas.

### Mise en place d'un service que j'héberge, sous licence libre à utilisation personnelle. Ici, un logiciel de gestion et de sauvegardes de photos/vidéos similaire  a Google Photo déployés via une image Docker Compose.
### ![immich](https://github.com/JuiceMcgoose/assets/blob/main/pic-window-230303-1401-04.png)

*** 

### VIM

#### Vim est un éditeur de texte libre et gratuit, basé sur une interface de commandes et hautement personnalisable pour Unix. Les fichiers sont au cœur de Linux, et savoir se déplacer à l'intérieur et manipuler leur contenu est très important en tant qu'administrateur système. Les deux modes aux seins de Vim sont : 

1. Insert mode
2. Normal mode 

#### Pour apprendre à utiliser VIM au sein même de son terminal :
> vimtutor 

***

## Gérer son identité professionnelle : 
### https://github.com/JuiceMcgoose/ 

![CV](https://github.com/JuiceMcgoose/Epreuve-E4/blob/main/CV.pdf)

***

## Veille informationnelle

### Ci-dessous les principales sources d'information que j'utilise pour ma veille informationnelle :

### https://www.reddit.com/r/ITCareerQuestions/
#### Communauté conçue pour aider toute personne travaillant dans le domaine de l'informatique ou intéressée par celui-ci à poser des questions relatives à sa carrière ou future carrière. M'a beaucoup aidé pour me rendre compte des différents choix de carrières venants de professionnels.

### https://www.reddit.com/r/networking/
#### Discussion sur les réseaux d'entreprise. protocoles et réseaux informatique -- Routeurs, commutateurs, le sans fil, les pare-feu, etc. Beaucoup d'informations sur Cisco, Juniper...

### https://news.ycombinator.com/ 

### https://www.reddit.com/r/cybersecurity/
#### Une communauté pour les professionnels techniques actuels ou en devenir afin de discuter de la cybersécurité, des menaces, etc.

***

[:)](https://imgur.com/gallery/zPFhSqy)



